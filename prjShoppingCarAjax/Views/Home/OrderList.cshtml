@model IEnumerable<prjShoppingCarAjax.Models.tOrder>

@{
    ViewBag.Title = "會員訂單列表";

}

<h2>會員訂單列表</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.fOrderGuid)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fUserId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fReceiver)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fEmail)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fAddress)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fStatus)
        </th>
        <th>訂單明細</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td class="fOrderGuid" id="@Html.DisplayFor(modelItem => item.fOrderGuid)">
                @Html.DisplayFor(modelItem => item.fOrderGuid)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fUserId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fReceiver)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fEmail)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fAddress)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fDate)
            </td>
            <td>
                @if (Session["Admin"] != null)
                {
                    <select class="form-control">
                        @if (@Html.DisplayFor(modelItem => item.fStatus).ToString() == "待出貨")
                        {
                            <option value="待出貨" SELECTED>待出貨</option>
                        }
                        else
                        {
                            <option value="待出貨">待出貨</option>
                        }
                        @if (@Html.DisplayFor(modelItem => item.fStatus).ToString() == "運送中")
                        {
                            <option value="運送中" SELECTED>運送中</option>
                        }
                        else
                        {
                            <option value="運送中">運送中</option>
                        }

                        @if (@Html.DisplayFor(modelItem => item.fStatus).ToString() == "已送達")
                        {
                            <option value="已送達" SELECTED>已送達</option>
                        }
                        else
                        {
                            <option value="已送達">已送達</option>
                        }
                        @if (@Html.DisplayFor(modelItem => item.fStatus).ToString() == "完成付款")
                        {
                            <option value="完成付款" SELECTED>完成付款</option>
                        }
                        else
                        {
                            <option value="完成付款">完成付款</option>
                        }
                    </select>

                    <input type="button" value="送出修改" class="form-control btn btn-info OrderStatusEdit" />
                }
                else
                {
                    @Html.DisplayFor(modelItem => item.fStatus)
                }
            </td>
            <td>
                <a href="@Url.Action("OrderDetail")?fOrderGuid=@item.fOrderGuid" class="btn btn-info">訂單明細</a>
            </td>
        </tr>
    }

</table>
